let resources = require('../resources/model'),    utils = require('../utils/utils');let alert = false;let sensor;let sensorModel = resources.pi.sensors;let pluginName = 'Temperature & Humidity';let ws = require('../server/websockets');exports.start = function (params) {    connectHardware(params);};exports.stop = function () {    sensor.unexport();    console.info('%s plugin stopped!', pluginName);};function connectHardware(params) {    let sensorDriver = require('node-dht-sensor');    let sensor = {        initialize: function () {            return sensorDriver.initialize(11, sensorModel.temperature.gpio);        },        read: function () {            let readout = sensorDriver.read();            let tempModel = observe(sensorModel.temperature);            tempModel.value = parseFloat(readout.temperature.toFixed(2));            sensorModel.temperature.value = tempModel.value/*parseFloat(readout.temperature.toFixed(2))*/;            sensorModel.humidity.value = parseFloat(readout.humidity.toFixed(2));            ws.send({                "temperature": sensorModel.temperature.value,                "humidity": sensorModel.humidity.value,            });            setTimeout(function () {                sensor.read();            }, params.frequency);        }    };    if (sensor.initialize()) {        console.info('Hardware %s sensor started!', pluginName);        sensor.read();    } else {        console.warn('Failed to initialize sensor!');    }}let observe = function (model) {    return new Proxy(model, {        set: function (target, key, value) {            try {                let ledplugin = require('../plugins/leds');                let alertValue = parseInt(model.alertValue);                if (value > alertValue) {                    console.warn('High Temprature!!!!');                    ws.send('High Temprature!!!!')                }                return Reflect.set(target, key, value);            } catch (err) {                console.log(err)            }        }    });};