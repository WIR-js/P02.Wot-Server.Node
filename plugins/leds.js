let resources = require('./../resources/model');let LED = resources.pi.actuators.leds;let GPIO = require('onoff').Gpio;let LED_alert = new GPIO(2, 'out');let LEDActor = [];exports.start = function (params) {    connectHardware(params.LEDs);};exports.switching = function (led, value) {    let led_selected = Select_actuator(led);    let selectIndex = Select_Index(led);    if (value) {        led_selected.writeSync(1);        LED.selectIndex.value = true;        console.info(`%s is ON`, led.name);    } else {        led_selected.writeSync(0);        LED.selectIndex.value = false;        console.info(`%s is OFF`, led.name);    }};function connectHardware(leds) {    for (let i = 0; i < leds.length; i++) {        let pin = leds[i].gpio;        let GPIO = require('onoff').Gpio;        let actor = new GPIO(pin, 'out');        LEDActor.push({            index: i.toString(),            gpio: pin,            actuator: actor        });        console.info(`Hardware LED gpio %s is started!`, pin);    }}function Select_actuator(led) {    for (var i = 0; i <= LEDActor.length; i++) {        if (LEDActor[i].gpio === led.gpio) {            return LEDActor[i].actuator;        }    }    console.info('LED is not found!');}function Select_Index(led) {    for (var i = 0; i <= LEDActor.length; i++) {        if (LEDActor[i].index === led.gpio) {            return LEDActor[i].actuator;        }    }    console.info('LED is not found!');}exports.observe = function (model) {    return new Proxy(model, {        set: function (target, key, value) {            try {                led_selected = Select_actuator(led);                if (value) {                    led_selected.writeSync(1);                    console.info(`%s is ON`, led.name);                } else {                    led_selected.writeSync(0);                    console.info(`%s is OFF`, led.name);                }                return Reflect.set(target, key, value);            } catch (err) {                console.log(err);            }        }    });};/*exports.blinkLED = function (value) {    //console.info('alert...alert...alert...alert!!!');    if (value)        LED_alert.writeSync(1);    else        LED_alert.writeSync(0);};exports.motion = function (value) {    console.info('motion is detected');    if (value)        LED_alert.writeSync(1);    else        LED_alert.writeSync(0);};*/